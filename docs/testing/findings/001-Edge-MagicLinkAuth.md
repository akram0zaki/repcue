Below output is captured from the console on Edge upon visiting the login magic link:

üöÄ Initializing app with consent granted
App.tsx:1416 üîß Debug helpers: window.storageService, window.resetDB()
App.tsx:1421 üöÄ Initializing PWA capabilities...
serviceWorker.ts:28 üîß Service worker not registered in development mode
App.tsx:1651 üé® Theme applied: light {hasConsent: true, dark_mode: false}
App.tsx:1410 üöÄ Initializing app with consent granted
App.tsx:1416 üîß Debug helpers: window.storageService, window.resetDB()
App.tsx:1421 üöÄ Initializing PWA capabilities...
serviceWorker.ts:28 üîß Service worker not registered in development mode
App.tsx:1651 üé® Theme applied: light {hasConsent: true, dark_mode: false}
GoTrueClient.ts:1793  @supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew 1756549673 1756553273 1756549650
_getSessionFromURL @ GoTrueClient.ts:1793
_initialize @ GoTrueClient.ts:380
(anonymous) @ GoTrueClient.ts:350
(anonymous) @ GoTrueClient.ts:1248
(anonymous) @ locks.ts:107
:5173/#access_token=eyJhbGciOiJIUzI1NiIsImtpZCI6Ikd5Y1ZzRE11Skw0a2p5NWciLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3p1bXp6dXZmc3V6dnZ5bWhweW1rLnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiJlMzI3ZDg1YS0zZjNhLTQyZjYtYmE5NC1jMzE2NjU3Y2JkZWUiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzU2NTUzMjczLCJpYXQiOjE3NTY1NDk2NzMsImVtYWlsIjoiYWtyYW16QGdtYWlsLmNvbSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZGlzcGxheV9uYW1lIjoiYWtyYW16IiwiZW1haWwiOiJha3JhbXpAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiZTMyN2Q4NWEtM2YzYS00MmY2LWJhOTQtYzMxNjY1N2NiZGVlIn0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoib3RwIiwidGltZXN0YW1wIjoxNzU2NTQ5NjczfV0sInNlc3Npb25faWQiOiJiM2FlYzVlNi02OTUxLTQ4ZTQtOTMwNy0yZjk1NTMyZDU1YjkiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.jv2gLphWSw59PDAPwb0bO31P00Pe2DQOBpHeOg8LdFA&expires_at=1756553273&expires_in=3600&refresh_token=wgd7p2oumy2v&token_type=bearer&type=magiclink:1  <meta name="apple-mobile-web-app-capable" content="yes"> is deprecated. Please include <meta name="mobile-web-app-capable" content="yes">
App.tsx:1489 ‚öôÔ∏è Loaded stored settings: {id: 'default-app-settings', interval_duration: 30, sound_enabled: true, vibration_enabled: true, beep_volume: 0.9,¬†‚Ä¶}auto_save: trueauto_start_next: falsebeep_volume: 0.9created_at: "2025-08-30T10:11:00.033Z"dark_mode: truedefault_rest_time: 60deleted: falsedirty: 1id: "default-app-settings"interval_duration: 30last_selected_exercise_id: nullop: "upsert"owner_id: undefinedpre_timer_countdown: 3reduce_motion: falserep_speed_factor: 1show_exercise_videos: truesound_enabled: trueupdated_at: "2025-08-30T10:19:26.476Z"version: 8vibration_enabled: true[[Prototype]]: Object
App.tsx:1499 ‚öôÔ∏è Final settings to set: {id: 'default-app-settings', interval_duration: 30, sound_enabled: true, vibration_enabled: true, beep_volume: 0.9,¬†‚Ä¶}auto_save: trueauto_start_next: falsebeep_volume: 0.9created_at: "2025-08-30T10:11:00.033Z"dark_mode: truedefault_rest_time: 60deleted: falsedirty: 1id: "default-app-settings"interval_duration: 30last_selected_exercise_id: nullop: "upsert"owner_id: undefinedpre_timer_countdown: 3reduce_motion: falserep_speed_factor: 1show_exercise_videos: truesound_enabled: trueupdated_at: "2025-08-30T10:19:26.476Z"version: 8vibration_enabled: true[[Prototype]]: Object
App.tsx:1489 ‚öôÔ∏è Loaded stored settings: {id: 'default-app-settings', interval_duration: 30, sound_enabled: true, vibration_enabled: true, beep_volume: 0.9,¬†‚Ä¶}auto_save: trueauto_start_next: falsebeep_volume: 0.9created_at: "2025-08-30T10:11:00.033Z"dark_mode: truedefault_rest_time: 60deleted: falsedirty: 1id: "default-app-settings"interval_duration: 30last_selected_exercise_id: nullop: "upsert"owner_id: undefinedpre_timer_countdown: 3reduce_motion: falserep_speed_factor: 1show_exercise_videos: truesound_enabled: trueupdated_at: "2025-08-30T10:27:29.915Z"version: 9vibration_enabled: true[[Prototype]]: Object
App.tsx:1499 ‚öôÔ∏è Final settings to set: {id: 'default-app-settings', interval_duration: 30, sound_enabled: true, vibration_enabled: true, beep_volume: 0.9,¬†‚Ä¶}auto_save: trueauto_start_next: falsebeep_volume: 0.9created_at: "2025-08-30T10:11:00.033Z"dark_mode: truedefault_rest_time: 60deleted: falsedirty: 1id: "default-app-settings"interval_duration: 30last_selected_exercise_id: nullop: "upsert"owner_id: undefinedpre_timer_countdown: 3reduce_motion: falserep_speed_factor: 1show_exercise_videos: truesound_enabled: trueupdated_at: "2025-08-30T10:27:29.915Z"version: 9vibration_enabled: true[[Prototype]]: Object
App.tsx:1651 üé® Theme applied: dark {hasConsent: true, dark_mode: true}dark_mode: truehasConsent: true[[Prototype]]: Object
authService.ts:125 üîÑ Starting anonymous data migration...
storageService.ts:1239 ‚úÖ Successfully claimed 30 anonymous records for user e327d85a-3f3a-42f6-ba94-c316657cbdee: {exercises: 26, activity_logs: 1, user_preferences: 0, app_settings: 1, workouts: 1,¬†‚Ä¶}activity_logs: 1app_settings: 1exercises: 26user_preferences: 0workout_sessions: 1workouts: 1[[Prototype]]: Object
authService.ts:129 ‚úÖ Migration successful! Claimed 30 records: {exercises: 26, activity_logs: 1, user_preferences: 0, app_settings: 1, workouts: 1,¬†‚Ä¶}activity_logs: 1app_settings: 1exercises: 26user_preferences: 0workout_sessions: 1workouts: 1[[Prototype]]: Object
App.tsx:1597 üîê User authenticated - triggering sync
authService.ts:49 Auth state changed: INITIAL_SESSION e327d85a-3f3a-42f6-ba94-c316657cbdee
syncService.ts:511 üîç Sync request has changes: true
syncService.ts:534 üîÑ Proceeding with sync - hasChanges: true lastSuccessfulSync: undefined force: false
syncService.ts:677 üîÑ Sync request being sent: {tables: Array(6), recordCounts: Array(6), since: undefined, clientInfo: {‚Ä¶}}clientInfo: appVersion: "1.0.0"deviceId: "device_1756549650218_nrfgg7flp"[[Prototype]]: ObjectrecordCounts: Array(6)0: "user_preferences: 0 upserts, 0 deletes"1: "app_settings: 1 upserts, 0 deletes"2: "exercises: 5 upserts, 0 deletes"3: "workouts: 1 upserts, 0 deletes"4: "activity_logs: 1 upserts, 0 deletes"5: "workout_sessions: 1 upserts, 0 deletes"length: 6[[Prototype]]: Array(0)since: undefinedtables: Array(6)0: "user_preferences"1: "app_settings"2: "exercises"3: "workouts"4: "activity_logs"5: "workout_sessions"length: 6[[Prototype]]: Array(0)[[Prototype]]: Object
syncService.ts:688 üîç Sync request body size (bytes): 4672
syncService.ts:689 üîç Full sync request body: {"tables":{"user_preferences":{"upserts":[],"deletes":[]},"app_settings":{"upserts":[{"id":"default-app-settings","interval_duration":30,"sound_enabled":true,"vibration_enabled":true,"beep_volume":0.9,"dark_mode":true,"auto_save":true,"last_selected_exercise_id":null,"pre_timer_countdown":3,"default_rest_time":60,"rep_speed_factor":1,"show_exercise_videos":true,"reduce_motion":false,"auto_start_next":false,"updated_at":"2025-08-30T10:27:30.108Z","created_at":"2025-08-30T10:11:00.033Z","deleted":false,"version":1,"owner_id":"e327d85a-3f3a-42f6-ba94-c316657cbdee"}],"deletes":[]},"exercises":{"upserts":[{"id":"bear-crawl","name":"Bear Crawl","description":"Crawl forward on hands and feet, keeping knees off ground","category":"core","exercise_type":"time_based","default_duration":30,"is_favorite":false,"has_video":false,"tags":["core","full-body","stability","cardio"],"updated_at":"2025-08-30T10:27:30.108Z","created_at":"2025-08-30T10:27:29.732Z","deleted":false,"version":1,"owner_id":"e32...[truncated]
syncService.ts:695 üîç Has content to sync: true
syncService.ts:706 üîç app_settings details: {upsertsCount: 1, deletesCount: 0, firstUpsert: {‚Ä¶}, firstUpsertKeys: Array(19)}deletesCount: 0firstUpsert: auto_save: trueauto_start_next: falsebeep_volume: 0.9created_at: "2025-08-30T10:11:00.033Z"dark_mode: truedefault_rest_time: 60deleted: falseid: "default-app-settings"interval_duration: 30last_selected_exercise_id: nullowner_id: "e327d85a-3f3a-42f6-ba94-c316657cbdee"pre_timer_countdown: 3reduce_motion: falserep_speed_factor: 1show_exercise_videos: truesound_enabled: trueupdated_at: "2025-08-30T10:27:30.108Z"version: 1vibration_enabled: true[[Prototype]]: ObjectfirstUpsertKeys: Array(19)0: "id"1: "interval_duration"2: "sound_enabled"3: "vibration_enabled"4: "beep_volume"5: "dark_mode"6: "auto_save"7: "last_selected_exercise_id"8: "pre_timer_countdown"9: "default_rest_time"10: "rep_speed_factor"11: "show_exercise_videos"12: "reduce_motion"13: "auto_start_next"14: "updated_at"15: "created_at"16: "deleted"17: "version"18: "owner_id"length: 19[[Prototype]]: Array(0)at: ∆í at()concat: ∆í concat()constructor: ∆í Array()copyWithin: ∆í copyWithin()entries: ∆í entries()every: ∆í every()fill: ∆í fill()filter: ∆í filter()find: ∆í find()findIndex: ∆í findIndex()findLast: ∆í findLast()findLastIndex: ∆í findLastIndex()flat: ∆í flat()flatMap: ∆í flatMap()forEach: ∆í forEach()includes: ∆í includes()indexOf: ∆í indexOf()join: ∆í join()keys: ∆í keys()lastIndexOf: ∆í lastIndexOf()length: 0map: ∆í map()pop: ∆í pop()push: ∆í push()reduce: ∆í reduce()reduceRight: ∆í reduceRight()reverse: ∆í reverse()shift: ∆í shift()slice: ∆í slice()some: ∆í some()sort: ∆í sort()splice: ∆í splice()toLocaleString: ∆í toLocaleString()toReversed: ∆í toReversed()toSorted: ∆í toSorted()toSpliced: ∆í toSpliced()toString: ∆í toString()unshift: ∆í unshift()values: ∆í values()with: ∆í with()Symbol(Symbol.iterator): ∆í values()Symbol(Symbol.unscopables): {at: true, copyWithin: true, entries: true, fill: true, find: true,¬†‚Ä¶}[[Prototype]]: ObjectupsertsCount: 1[[Prototype]]: Object
syncService.ts:715 üîç app_settings first record: {
  "id": "default-app-settings",
  "interval_duration": 30,
  "sound_enabled": true,
  "vibration_enabled": true,
  "beep_volume": 0.9,
  "dark_mode": true,
  "auto_save": true,
  "last_selected_exercise_id": null,
  "pre_timer_countdown": 3,
  "default_rest_time": 60,
  "rep_speed_factor": 1,
  "show_exercise_videos": true,
  "reduce_motion": false,
  "auto_start_next": false,
  "updated_at": "2025-08-30T10:27:30.108Z",
  "created_at": "2025-08-30T10:11:00.033Z",
  "deleted": false,
  "version": 1,
  "owner_id": "e327d85a-3f3a-42f6-ba94-c316657cbdee"
}
syncService.ts:706 üîç exercises details: {upsertsCount: 5, deletesCount: 0, firstUpsert: {‚Ä¶}, firstUpsertKeys: Array(14)}deletesCount: 0firstUpsert: category: "core"created_at: "2025-08-30T10:27:29.732Z"default_duration: 30deleted: falsedescription: "Crawl forward on hands and feet, keeping knees off ground"exercise_type: "time_based"has_video: falseid: "bear-crawl"is_favorite: falsename: "Bear Crawl"owner_id: "e327d85a-3f3a-42f6-ba94-c316657cbdee"tags: Array(4)0: "core"1: "full-body"2: "stability"3: "cardio"length: 4[[Prototype]]: Array(0)updated_at: "2025-08-30T10:27:30.108Z"version: 1[[Prototype]]: Objectconstructor: ∆í Object()hasOwnProperty: ∆í hasOwnProperty()isPrototypeOf: ∆í isPrototypeOf()propertyIsEnumerable: ∆í propertyIsEnumerable()toLocaleString: ∆í toLocaleString()toString: ∆í toString()valueOf: ∆í valueOf()__defineGetter__: ∆í __defineGetter__()__defineSetter__: ∆í __defineSetter__()__lookupGetter__: ∆í __lookupGetter__()__lookupSetter__: ∆í __lookupSetter__()__proto__: (...)get __proto__: ∆í __proto__()set __proto__: ∆í __proto__()firstUpsertKeys: Array(14)0: "id"1: "name"2: "description"3: "category"4: "exercise_type"5: "default_duration"6: "is_favorite"7: "has_video"8: "tags"9: "updated_at"10: "created_at"11: "deleted"12: "version"13: "owner_id"length: 14[[Prototype]]: Array(0)upsertsCount: 5[[Prototype]]: Object
syncService.ts:715 üîç exercises first record: {
  "id": "bear-crawl",
  "name": "Bear Crawl",
  "description": "Crawl forward on hands and feet, keeping knees off ground",
  "category": "core",
  "exercise_type": "time_based",
  "default_duration": 30,
  "is_favorite": false,
  "has_video": false,
  "tags": [
    "core",
    "full-body",
    "stability",
    "cardio"
  ],
  "updated_at": "2025-08-30T10:27:30.108Z",
  "created_at": "2025-08-30T10:27:29.732Z",
  "deleted": false,
  "version": 1,
  "owner_id": "e327d85a-3f3a-42f6-ba94-c316657cbdee"
}
syncService.ts:706 üîç workouts details: {upsertsCount: 1, deletesCount: 0, firstUpsert: {‚Ä¶}, firstUpsertKeys: Array(12)}deletesCount: 0firstUpsert: {id: 'workout_1756548830389', name: 'Morning Routine', description: undefined, exercises: Array(3), estimated_duration: 121,¬†‚Ä¶}firstUpsertKeys: (12)¬†['id', 'name', 'description', 'exercises', 'estimated_duration', 'scheduled_days', 'is_active', 'created_at', 'updated_at', 'deleted', 'version', 'owner_id']upsertsCount: 1[[Prototype]]: Object
syncService.ts:715 üîç workouts first record: {
  "id": "workout_1756548830389",
  "name": "Morning Routine",
  "exercises": [
    {
      "id": "we_1756548830389_0",
      "exercise_id": "plank",
      "order": 1,
      "custom_duration": 27,
      "custom_rest_time": 15
    },
    {
      "id": "we_1756548830389_1",
      "exercise_id": "burpees",
      "order": 2,
      "custom_sets": 3,
      "custom_reps": 4,
      "custom_rest_time": 15
    },
    {
      "id": "we_1756548830389_2",
      "exercise_id": "finger-roll",
      "order": 3,
      "custom_duration": 25,
      "custom_rest_time": 15
    }
  ],
  "estimated_duration": 121,
  "scheduled_days": [
    "sunday",
    "saturday",
    "wednesday"
  ],
  "is_active": true,
  "created_at": "2025-08-30T10:13:50.389Z",
  "updated_at": "2025-08-30T10:27:30.108Z",
  "deleted": false,
  "version": 1,
  "owner_id": "e327d85a-3f3a-42f6-ba94-c316657cbdee"
}
syncService.ts:706 üîç activity_logs details: {upsertsCount: 1, deletesCount: 0, firstUpsert: {‚Ä¶}, firstUpsertKeys: Array(14)}
syncService.ts:715 üîç activity_logs first record: {
  "id": "workout-session-1756548845760",
  "exercise_id": "workout",
  "exercise_name": "Unknown Exercise",
  "duration": 160,
  "timestamp": "2025-08-30T10:17:21.265Z",
  "notes": "Workout completed with 3 exercises",
  "is_workout": true,
  "exercises": [
    {
      "exercise_id": "plank",
      "exercise_name": "Plank",
      "duration": 27
    },
    {
      "exercise_id": "burpees",
      "exercise_name": "Burpees",
      "duration": 108,
      "sets": 3,
      "reps": 4
    },
    {
      "exercise_id": "finger-roll",
      "exercise_name": "Finger Roll",
      "duration": 25
    }
  ],
  "updated_at": "2025-08-30T10:27:30.108Z",
  "created_at": "2025-08-30T10:17:21.266Z",
  "deleted": false,
  "version": 1,
  "owner_id": "e327d85a-3f3a-42f6-ba94-c316657cbdee"
}
syncService.ts:706 üîç workout_sessions details: {upsertsCount: 1, deletesCount: 0, firstUpsert: {‚Ä¶}, firstUpsertKeys: Array(14)}
syncService.ts:715 üîç workout_sessions first record: {
  "id": "session-1756548845760",
  "start_time": "2025-08-30T10:16:56.256Z",
  "end_time": "2025-08-30T10:17:21.256Z",
  "exercises": [],
  "is_completed": true,
  "completion_percentage": 100,
  "total_duration": 25,
  "updated_at": "2025-08-30T10:27:30.108Z",
  "created_at": "2025-08-30T10:17:21.256Z",
  "deleted": false,
  "version": 1,
  "owner_id": "e327d85a-3f3a-42f6-ba94-c316657cbdee"
}
syncService.ts:722 üîÑ Making sync request via supabase.functions.invoke...
syncService.ts:723   POST https://zumzzuvfsuzvvymhpymk.supabase.co/functions/v1/sync 400 (Bad Request)
(anonymous) @ fetch.ts:15
(anonymous) @ fetch.ts:46
fulfilled @ fetch.ts:2
Promise.then
step @ fetch.ts:2
(anonymous) @ fetch.ts:2
__awaiter6 @ fetch.ts:2
(anonymous) @ fetch.ts:34
(anonymous) @ helper.ts:13
(anonymous) @ FunctionsClient.ts:94
(anonymous) @ types.ts:45
__awaiter @ types.ts:45
invoke @ FunctionsClient.ts:51
callSyncEndpoint @ syncService.ts:723
performSync @ syncService.ts:537
await in performSync
sync @ syncService.ts:410
(anonymous) @ App.tsx:1598
react_stack_bottom_frame @ react-dom-client.development.js:23953
runWithFiberInDEV @ react-dom-client.development.js:1519
commitHookEffectListMount @ react-dom-client.development.js:11905
commitHookPassiveMountEffects @ react-dom-client.development.js:12026
commitPassiveMountOnFiber @ react-dom-client.development.js:13841
recursivelyTraversePassiveMountEffects @ react-dom-client.development.js:13815
commitPassiveMountOnFiber @ react-dom-client.development.js:13957
recursivelyTraversePassiveMountEffects @ react-dom-client.development.js:13815
commitPassiveMountOnFiber @ react-dom-client.development.js:13834
recursivelyTraversePassiveMountEffects @ react-dom-client.development.js:13815
commitPassiveMountOnFiber @ react-dom-client.development.js:13957
recursivelyTraversePassiveMountEffects @ react-dom-client.development.js:13815
commitPassiveMountOnFiber @ react-dom-client.development.js:13853
flushPassiveEffects @ react-dom-client.development.js:15737
(anonymous) @ react-dom-client.development.js:15379
performWorkUntilDeadline @ scheduler.development.js:45
<App>
exports.jsxDEV @ react-jsx-dev-runtime.development.js:346
(anonymous) @ main.tsx:11
syncService.ts:731 üîç Supabase invoke response: {data: false, error: true}
syncService.ts:741  üî¥ Supabase invoke error: {type: 'network', message: 'Supabase invoke failed: Edge Function returned a non-2xx status code', table: undefined, recordId: undefined, timestamp: '2025-08-30T10:27:30.852Z',¬†‚Ä¶}
callSyncEndpoint @ syncService.ts:741
await in callSyncEndpoint
performSync @ syncService.ts:537
await in performSync
sync @ syncService.ts:410
(anonymous) @ App.tsx:1598
react_stack_bottom_frame @ react-dom-client.development.js:23953
runWithFiberInDEV @ react-dom-client.development.js:1519
commitHookEffectListMount @ react-dom-client.development.js:11905
commitHookPassiveMountEffects @ react-dom-client.development.js:12026
commitPassiveMountOnFiber @ react-dom-client.development.js:13841
recursivelyTraversePassiveMountEffects @ react-dom-client.development.js:13815
commitPassiveMountOnFiber @ react-dom-client.development.js:13957
recursivelyTraversePassiveMountEffects @ react-dom-client.development.js:13815
commitPassiveMountOnFiber @ react-dom-client.development.js:13834
recursivelyTraversePassiveMountEffects @ react-dom-client.development.js:13815
commitPassiveMountOnFiber @ react-dom-client.development.js:13957
recursivelyTraversePassiveMountEffects @ react-dom-client.development.js:13815
commitPassiveMountOnFiber @ react-dom-client.development.js:13853
flushPassiveEffects @ react-dom-client.development.js:15737
(anonymous) @ react-dom-client.development.js:15379
performWorkUntilDeadline @ scheduler.development.js:45
<App>
exports.jsxDEV @ react-jsx-dev-runtime.development.js:346
(anonymous) @ main.tsx:11
syncService.ts:745 üîÑ Supabase invoke failed, falling back to direct fetch...
syncService.ts:775 üîÑ Using direct fetch to: https://zumzzuvfsuzvvymhpymk.supabase.co/functions/v1/sync
syncService.ts:778 üîç Direct fetch request body size: 4672
authService.ts:174 üîÑ Starting post-authentication sync...
syncService.ts:388 üîÑ Sync already in progress
syncService.ts:795 üîç Direct fetch response status: 200
syncService.ts:796 üîç Direct fetch response headers: {content-length: '178', content-type: 'application/json'}
syncService.ts:825 üîç Direct fetch success, data received
syncService.ts:418 ‚úÖ Sync completed: 6 tables, 9 pushed, 0 pulled
authService.ts:177 ‚úÖ Post-authentication sync completed successfully